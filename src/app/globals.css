@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #030305;
  --foreground: #e0e0e0;

  /* Brand Colors */
  --cyber-cyan: #00f0ff;
  --cyber-pink: #ff003c;
  --cyber-yellow: #fcee0a;
  --cyber-black: #0a0a0a;
  --cyber-dark: #050505;

  /* Functional Colors */
  --grid-color: rgba(0, 240, 255, 0.07);
  --border-color: rgba(0, 240, 255, 0.2);
  --panel-bg: rgba(10, 10, 15, 0.6);

  /* Fonts */
  --font-display: var(--font-orbitron);
  --font-body: var(--font-rajdhani);
  --font-tech: var(--font-share-tech-mono);
}

html {
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
  overflow-x: clip;
}

body {
  color: var(--foreground);
  background-color: var(--background);
  font-family: var(--font-body);
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  background-image:
    linear-gradient(var(--grid-color) 1px, transparent 1px),
    linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
  background-size: 40px 40px, 40px 40px;
  background-attachment: fixed;
  background-position: center top;
}

@media (hover: none) {
  body {
    background-attachment: scroll;
  }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: var(--cyber-dark);
}

::-webkit-scrollbar-thumb {
  background: var(--border-color);
  border: 1px solid var(--cyber-cyan);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--cyber-cyan);
}

@layer utilities {
  .font-display {
    font-family: var(--font-display);
  }

  .font-tech {
    font-family: var(--font-tech);
  }

  /* Neon Text */
  .text-neon-cyan {
    color: var(--cyber-cyan);
    text-shadow: 0 0 5px rgba(0, 240, 255, 0.5), 0 0 10px rgba(0, 240, 255, 0.3);
  }

  .text-neon-pink {
    color: var(--cyber-pink);
    text-shadow: 0 0 5px rgba(255, 0, 60, 0.5), 0 0 10px rgba(255, 0, 60, 0.3);
  }

  /* Glass/Tech Panels */
  .glass-panel {
    background: rgba(5, 8, 16, 0.7);
    backdrop-filter: blur(10px);
    border: 1px solid var(--border-color);
    box-shadow: 0 0 15px rgba(0, 240, 255, 0.05);
    position: relative;
    overflow: hidden;
  }

  .glass-panel::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--cyber-cyan), transparent);
    opacity: 0.5;
  }

  /* Cyber Borders */
  .tech-border-corner {
    position: relative;
    border: 1px solid rgba(0, 240, 255, 0.1);
    background: rgba(0, 10, 20, 0.3);
  }

  .tech-border-corner::before,
  .tech-border-corner::after {
    content: '';
    position: absolute;
    width: 8px;
    height: 8px;
    border-color: var(--cyber-cyan);
    border-style: solid;
    transition: all 0.3s ease;
  }

  .tech-border-corner::before {
    top: -1px;
    left: -1px;
    border-width: 2px 0 0 2px;
  }

  .tech-border-corner::after {
    bottom: -1px;
    right: -1px;
    border-width: 0 2px 2px 0;
  }

  .tech-border-corner:hover::before {
    width: 100%;
    height: 100%;
    opacity: 0.5;
  }

  .tech-border-corner:hover::after {
    width: 100%;
    height: 100%;
    opacity: 0.5;
  }

  /* One-Shot Glitch Burst */
  @keyframes glitch-burst {
    0% {
      clip-path: inset(40% 0 61% 0);
      transform: translate(-5px, -2px);
      opacity: 1;
    }

    20% {
      clip-path: inset(92% 0 1% 0);
      transform: translate(5px, -5px);
      opacity: 1;
    }

    40% {
      clip-path: inset(25% 0 58% 0);
      transform: translate(-8px, 3px);
      opacity: 1;
    }

    60% {
      clip-path: inset(75% 0 7% 0);
      transform: translate(6px, -4px);
      opacity: 1;
    }

    80% {
      clip-path: inset(10% 0 83% 0);
      transform: translate(-3px, 6px);
      opacity: 1;
    }

    100% {
      clip-path: inset(0 0 0 0);
      transform: translate(0);
      opacity: 0;
    }
  }

  .hover-glitch {
    position: relative;
  }

  .hover-glitch:hover::before,
  .hover-glitch:hover::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    opacity: 0;
    pointer-events: none;
  }

  .hover-glitch:hover::before {
    text-shadow: -2px 0 var(--cyber-cyan);
    animation: glitch-burst 0.3s linear 3;
    /* 3 bursts (total ~0.9s) then stops */
  }

  .hover-glitch:hover::after {
    text-shadow: 2px 0 var(--cyber-pink);
    animation: glitch-burst 0.2s linear 4;
    /* Slightly faster pink burst */
  }

  /* Scanline */
  .scanline {
    width: 100%;
    height: 100%;
    background: linear-gradient(to bottom, transparent 50%, rgba(0, 240, 255, 0.02) 50%);
    background-size: 100% 4px;
    pointer-events: none;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 10;
  }
}